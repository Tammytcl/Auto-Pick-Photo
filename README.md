# 🖼️ FLUX Image Selection Tool
> A PyQt5-based GUI application designed to assist with filtering and comparing images generated by diffusion models such as FLUX.

## 📌 Overview

This tool provides a user-friendly graphical interface to **compare and filter batches of images** generated by different methods or models. It is specifically built for use cases involving **FLUX** or similar image generation pipelines, where large quantities of images require manual or semi-automated selection.

By allowing side-by-side visualization and distance-based comparison of `Original`, `Our`, and `Other` image sets, this tool helps users quickly identify the most faithful or desired generations.

---

## ✨ Key Features

- **Qt-based GUI**: Clean, responsive interface powered by PyQt5.
- **Side-by-side Comparison**: Displays `Original`, `Our`, and `Other` images with automatic distance computation.
- **Multiple Distance Metrics**: Supports `L1`, `L2`, `PSNR`, and `SSIM` for quantitative comparison.
- **Batch Image Loading**: Automatically identifies common image files across selected folders.
- **Prompt Metadata Extraction**: Parses prompt information from PNG metadata or EXIF fields.
- **Top-N Filtering**: Automatically selects images where `Our` results are closest to `Original` and `Other` are furthest.
- **Result Table**: Displays filtered results in a sortable, interactive table with preview support.


---

## 📸 Screenshots


## 🚀 Getting Started
```bash
python autopicker+pyqt.py
```

## 📐 Supported Distance Metrics

| Metric | Description |
|--------|-------------|
| **L1** | Mean Absolute Error between grayscale pixel values (lower is better) |
| **L2** | Root Mean Square Error between grayscale pixel values (lower is better) |
| **PSNR** | Peak Signal-to-Noise Ratio (higher is better; measures fidelity) |
| **SSIM** | Structural Similarity Index, converted to distance as `1 - SSIM` (lower is better) |

These metrics are computed after automatically resizing images to match dimensions if needed.  
PSNR and SSIM are often more perceptually aligned with human judgment, especially for natural images.

---

## 🧠 Use Cases

- Post-processing generated images from **FLUX**
- Visual evaluation and comparison of different model outputs (e.g., Our vs Other)
- Semi-automated dataset construction: filter out best generations based on numeric criteria
- Extracting and referencing **prompt metadata** embedded in image files

---

## 👨‍💻 Author

**Jiacheng Liu / SJTU EPIC-Lab**

Feel free to open an issue or submit a pull request if you encounter any bugs, have feature suggestions, or want to contribute.

📫 Contact: [ljc.mytcl@gmail.com](mailto:ljc.mytcl@gmail.com)
